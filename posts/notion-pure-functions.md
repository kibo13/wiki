## Чистые функции 

**Чистая функция (Pure Function)** - функция, которая является детерминированной и не имеет побочных эффектов.

**Детерминированная функция** - функция, которая возвращает одинаковый результат для одного и того же набора входных значений.

```js
const calcRectArea = (weight, height) => weight * height;
```

**Недетерминированная функция** не всегда будет возвращать одинаковое значение для одного и того же набора входных значений.

```js
const generateID = () => Math.floor(Math.random() * 10000);

console.log(generateID());  // 7857
console.log(generateID());  // 3547
console.log(generateID());  // 6585
```

**Побочными эффектами (side effects)** называют любые взаимодействия с внешней средой. 

К ним относятся файловые операции, такие как запись в файл, чтение файла, отправка или приём данных по сети и даже вывод в консоль.

```js
const parseData = () => {
    // Функция fetch выполняет HTTP-запрос
    // HTTP-запрос — это побочный эффект
    fetch('https://jsonplaceholder.typicode.com/todos/1');
};
```

Кроме того, побочными эффектами считаются изменения входных параметров в случае, когда они передаются по ссылке: 

```js
const someFunction = (obj) => {
    // Какая-то логика
    // Побочный эффект. Изменение входного аргумента.
    obj.key = 'value';
};
```

И внешних переменных:

```js
let x = 0;

const changeValue = () => {
    x = x + 1;
    return true;
}

changeValue();
```

> Функция `changeValue` меняет значение глобальной переменной `x`. Эта переменная, 
> с точки зрения функции, находится во внешней среде, а функция `changeValue` это меняет. Поэтому `changeValue` имеет побочный эффект.

Функция `changeValue` и `console.log` имеют побочные эффекты, но они детерминированные. Функция `changeValue` всегда возвращает `true`, а `console.log` всегда возвращает `undefined`.

То, что функции возвращают, не имеет ничего общего с тем, как они влияют на внешнюю среду.

```js
console.log('Hello, world!');  // выведет 'Hello, world!', но вернет undefined
```

Чистые функции: 

- проще читать
- проще отлаживать
- проще тестировать
- не зависят от порядка, в котором они вызываются
- просто запустить параллельно (одновременно)
  
> Чистые функции независимы от времени. Недетерминизм и побочные эффекты добавляют понятие времени. Если функция зависит от чего-то, что может случиться, а может не случиться и меняет что-то за пределами своих границ, то она неожиданно становится зависимой от времени.

